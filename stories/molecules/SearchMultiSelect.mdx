import { Canvas, Source } from '@storybook/blocks';
import { ArgsTable } from '@storybook/addon-docs';

import * as SearchMultiSelectStories from './SearchMultiSelect.stories';
import SearchMultiSelect from '../../components/molecules/SearchMultiSelect';

# SearchMultiSelect

The `<SearchMultiSelect>` is an option list which can also contain groups. It shows the selection grouped as a tree and allows user to search the options for quick filtering and selection.

As the name suggests, the `<SearchMultiSelect>` comes with a small tag indicator to show you how many options were selected, as well a small balloon where you can quickly see what options you have selected so far.

Search-Multi-Select supports nested options [See Nested Options](#nested-options). When a parent option is selected, all children will be selected. If all children are selected, the parent will be selected too.

# Full Example
```jsx

const [pets, setPets] = useState(initialPetsObject);
return <SearchMultiSelect onChange={newPets => setPets(newPets)} options={pets} size="md" />;
```

## Options

Options determine the construction of the multi-select menu. It takes an `Array` of `Objects` with the following shape:

```js
{
    name: 'John', // label displayed next to the checkbox
    value: 'john', // value associated with the option
    isSelected: true // current selected state
}
```

Here's an example of a possible set of options:

```js
const people = [
    {
        name: 'John',
        value: 'john',
        isSelected: true
    },
    {
        name: 'Sam',
        value: 'sam',
        isSelected: false
    },
    {
        name: 'Jane',
        value: 'jane',
        isSelected: true
    },
    {
        name: 'Sara',
        value: 'sara',
        isSelected: false
    }
];
```

### Nested Options

You may also have nested options. Here's an example:

```js
const pets = [
    {
        name: 'All Pets',
        value: 0,
        isSelected: true, 
    },
    {
        name: 'Dogs',
        value: 1,
        isSelected: true,
        options: [
            {
                name: 'Lassie',
                value: 1,
                isSelected: true
            },
            {
                name: 'Snoopy',
                value: 2,
                isSelected: true
            }
        ]
    },
    {
        name: 'Cats',
        value: 'cats',
        isSelected: true,
        options: [
            {
                name: 'Grumpy Cat',
                value: 1,
                isSelected: true
            },
            {
                name: 'Lil Bub',
                value: 2,
                isSelected: true
            }
        ]
    }
];
```

## Keybindings

| key   | description                              |
| ----- | ---------------------------------------- |
| enter | toggles the currently highlighted option |
| up    | highlights the previous options          |
| down  | highlights the next option               |
| esc   | closes the dropdown                      |

## Component Example

<Canvas of={SearchMultiSelectStories.Default} />

## Component Example Source

<Source of={SearchMultiSelectStories.Default} />

## SearchMultiSelect Props

<ArgsTable of={SearchMultiSelect} />
