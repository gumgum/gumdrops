import { Story, Source, Props } from '@storybook/addon-docs/blocks';
import MultiSelect from '../../components/molecules/MultiSelect';

# MultiSelect

The `<MultiSelect>` component can be used when you need a select component to support multiple options simultaneously.

The state of the multi-select is handled by the parent component. An `onChange` prop handler is provided that will be called with the updated list of options whenever there's a change.

Multi-select also supports nested options [See Nested Options](#nested-options). When a parent option is selected, all children will be selected. If all children are selected, the parent will be selected too.

**NOTE**: This is a controlled component, so don't forget to pass the updated props to `MultiSelect` to see the changes. [See Example](#example)

## Options

Options determine the construction of the multi-select menu. It takes an `Array` of `Objects` with the following shape:

```js
{
    name: 'John', // label displayed next to the checkbox
    value: 'john', // value associated with the option
    selected: true // current selected state
}
```

Here's an example of a possible set of options:

```js
const people = [
    {
        name: 'John',
        value: 'john',
        selected: true
    },
    {
        name: 'Sam',
        value: 'sam',
        selected: false
    },
    {
        name: 'Jane',
        value: 'jane',
        selected: true
    },
    {
        name: 'Sara',
        value: 'sara',
        selected: false
    }
];
```

### Nested Options

You may also have nested options. Here's an example:

```js
const pets = [
    {
        name: 'All Pets',
        value: 0,
        selected: false
    },
    {
        name: 'Dogs',
        value: 1,
        selected: false,
        options: [
            {
                name: 'Lassie',
                value: 1,
                selected: true
            },
            {
                name: 'Snoopy',
                value: 2,
                selected: true
            }
        ]
    },
    {
        name: 'Cats',
        value: 'cats',
        selected: false,
        options: [
            {
                name: 'Grumpy Cat',
                value: 1,
                selected: true
            },
            {
                name: 'Lil Bub',
                value: 2,
                selected: true
            }
        ]
    }
];
```

## Full Example

```jsx
const [pets, setPets] = useState(initialPetsObject);
return <MultiSelect onChange={newPets => setPets(newPets)} options={pets} size="md" />;
```

## Component Example

<Story id="molecules-multiselect--default" />

## Source

<Source id="molecules-multiselect--default" />

## Props

<Props of={MultiSelect} />
